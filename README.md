# КУРСОВАЯ РАБОТА
по дисциплине «Основы программирования на языке Java» на тему:

«Реализация алгоритма метода отжига для решения задачи “Коммивояжера”. Задача об оптимальном обходе “Золотого кольца”»

## Цель работы

Целью данной курсовой работы является разработка веб-сервиса на основе REST API, который будет решать задачу «Коммивояжера» с использованием алгоритма метода отжига. 
Для реализации этого веб-сервиса будет использованы технологии Spring Boot и MongoDB

## Реализация проекта

* Создание проекта на Spring Boot
    + Система сборки Gradle и JDK 17
    + Зависимости:
        - Spring Boot DevTools
        - Lombok
        - Spring Web
        - Spring Data MongoDB
    + Файловая структура
        - Controllers: папка содержит контроллеры, которые отвечают за обработку пользовательских запросов и обеспечивают взаимодействие с остальными элементами приложения
        - Models: содержит классы моделей данных, которые используются в сервисе
        - DTO – Data Transfer Objects: содержит классы моделей данных в том виде, который может видеть (или изменять) пользователь
        - Repository: классы репозиториев, которые используются для работы с базой данных
        - Services: классы сервисов, которые содержат основную логику приложения
        - Utils: вспомогательные классы, в которых описана реализация основных функций веб-приложения
* Подключение к MongoDB
    + Создание бд с помощью MongoDB Compass
    + Подключение бд к проекту в файле application.properties
    + Создание репозитория с помощью MongoRepository<>
    + Добавление аннотации для модели данных, которая описывает коллекцию в бд @Document(value = "cities")
* Реализация алгоритма имитации отжига для задачи «Коммивояжера»
    + Инициализация. Передача входных данных для симуляции (города и расстояния между ними), инициализация глобальных переменных
    + Симуляция. Запускается алгоритм имитации отжига с заданными параметрами (количество итераций, начальная температура и скорость охлаждения). Этот метод возвращает оптимальный маршрут
    + Метод имитации отжига. Этот метод реализует основной цикл алгоритма имитации отжига
        - Генерация случайного маршрута. В начале цикла создается случайный маршрут, перемешивая города
        - Вычисление длины маршрута. Затем вычисляется общая длина маршрута, суммируя расстояния между всеми последовательными городами в маршруте
        - Генерация соседа. На каждой итерации генерируется "соседнее" решение путем случайного обмена двух городов в текущем маршруте
        - Вычисление вероятности принятия. Затем вычисляется вероятность принятия нового решения в зависимости от разницы "энергий" и текущей температуры
        - Обновление текущего и лучшего решения. Если новое решение лучше текущего или принимается с определенной вероятностью, оно становится текущим решением. Если текущее решение лучше лучшего найденного решения, оно становится новым лучшим решением
        - Охлаждение. После каждой итерации температура уменьшается
    + Построение маршрута. После окончания всех итераций, для каждого города в оптимальном маршруте извлекается его имя и добавляется в список маршрута
* Реализация сервиса
    + Получение названия городов и расстояния между ними из базы данных
    + Обработка строки с начальным городом маршрута
    + Создание контроллера для обработки входных запросов
* Тестирование работы приложения
    + Используя Postman сделать POST запрос, в теле которого необходимо указать стартовый город

## Итоги работы

В ходе выполнения курсовой работы для задачи "Коммивояжера" был реализован алгоритм имитации отжига, для предоставления доступа к функциональности алгоритма был разработан REST API на базе Spring Boot с использованием MongoDB

Пример POST запроса

![изображение](https://github.com/annybogatova/tsp-sa-service/assets/96336462/4376fd22-3aff-44a4-927b-3295d26adf1d)
